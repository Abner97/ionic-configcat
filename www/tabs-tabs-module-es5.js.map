{"version":3,"sources":["webpack:///node_modules/configcat-common/lib/esm/ConfigCatClientOptions.js","webpack:///node_modules/configcat-common/lib/esm/ConfigServiceBase.js","webpack:///src/app/tabs/tabs.page.html","webpack:///node_modules/configcat-js/lib/esm/index.js","webpack:///node_modules/configcat-common/lib/esm/Version.js","webpack:///src/app/tabs/tabs.page.ts","webpack:///node_modules/configcat-common/lib/esm/ProjectConfig.js","webpack:///node_modules/configcat-common/lib/esm/Sha1.js","webpack:///src/app/tabs/tabs.page.scss","webpack:///node_modules/configcat-common/lib/esm/RolloutEvaluator.js","webpack:///src/app/services/routes-guard.service.ts","webpack:///node_modules/configcat-js/lib/esm/Cache.js","webpack:///src/app/services/configcat.service.ts","webpack:///node_modules/configcat-js/lib/esm/ConfigFetcher.js","webpack:///node_modules/configcat-common/lib/esm/LazyLoadConfigService.js","webpack:///node_modules/configcat-common/lib/esm/Utils.js","webpack:///src/app/tabs/tabs.module.ts","webpack:///node_modules/configcat-common/lib/esm/ManualPollService.js","webpack:///src/app/tabs/tabs-routing.module.ts","webpack:///node_modules/configcat-common/lib/esm/ConfigCatLogger.js","webpack:///node_modules/configcat-common/lib/esm/Cache.js","webpack:///node_modules/configcat-common/lib/esm/ConfigCatClient.js","webpack:///node_modules/configcat-common/lib/esm/index.js","webpack:///node_modules/configcat-common/lib/esm/Semver.js","webpack:///node_modules/configcat-common/lib/esm/AutoPollConfigService.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","DataGovernance","OptionsBase","apiKey","clientVersion","options","defaultCache","_a","configFileName","logger","Warn","requestTimeoutMs","baseUrlOverriden","proxy","Error","dataGovernance","Global","cache","EuOnly","baseUrl","getUrl","getCacheKey","AutoPollOptions","_super","_this","call","pollIntervalSeconds","configChanged","maxInitWaitTimeSeconds","undefined","ManualPollOptions","LazyLoadOptions","cacheTimeToLiveSeconds","ConfigServiceBase","configFetcher","baseConfig","refreshLogicBaseAsync","lastProjectConfig","forceUpdateCache","Promise","resolve","fetchLogic","newConfig","ConfigJSON","equals","set","retries","callback","calledBaseUrl","preferences","Preferences","BaseUrl","redirect","Redirect","warn","error","createClient","sdkkey","createClientWithAutoPoll","sdkKey","createClientWithManualPoll","createClientWithLazyLoad","createConsoleLogger","logLevel","TabsPage","configCatService","getlist_feature","then","enabled","listFeature","subscription","list_featureObs","subscribe","console","log","unsubscribe","selector","template","ProjectConfig","timeStamp","jsonConfig","httpETag","Timestamp","JSON","parse","HttpETag","projectConfig1","projectConfig2","ensureStrictEtag","etag","length","substr","toLocaleUpperCase","substring","ConfigFile","FeatureFlags","Setting","Value","SettingType","RolloutPercentageItems","RolloutRules","VariationId","Order","ComparisonAttribute","Comparator","ComparisonValue","Percentage","sha1","msg","rotate_left","n","s","t4","lsb_hex","val","str","vh","vl","i","toString","cvt_hex","v","Utf8Encode","string","replace","utftext","c","charCodeAt","String","fromCharCode","blockstart","j","W","H0","H1","H2","H3","H4","A","B","C","D","E","temp","msg_len","word_array","push","toLowerCase","User","identifier","email","country","custom","RolloutEvaluator","Evaluate","config","key","defaultValue","user","defaultVariationId","featureFlags","keys","join","featureFlag","eLog","EvaluateLogger","KeyName","ReturnValue","result","EvaluateResult","EvaluateLog","EvaluateRules","ValueAndVariationId","EvaluateVariations","OpAppendLine","info","GetLog","rolloutRules","_loop_1","rule","comparisonAttribute","this_1","GetUserAttribute","comparator","comparisonValue","RuleToString","cvs","split","ci","trim","value","some","e","search","EvaluateSemver","EvaluateNumber","values","state_1","rolloutPercentageItems","hashCandidate","hashValue","hashScale","parseInt","bucket","variation","v1","v2","n1","n2","Number","isNaN","parseFloat","sv","found","attribute","Operations","stringify","RoutesGuardService","navCtrl","router","activated","params","getCurrentNavigation","extras","route","state","navigateRoot","animated","providedIn","LocalStorageCache","localStorage","setItem","btoa","ex","get","configString","getItem","config_1","atob","ConfigcatService","platform","list_feature","asObservable","Info","platformName","platforms","find","configCatClient","next","getValueAsync","HttpConfigFetcher","httpRequest","XMLHttpRequest","onreadystatechange","readyState","getResponseHeader","status","Date","getTime","responseText","statusText","open","timeout","setRequestHeader","send","LazyLoadConfigService","getConfig","refreshConfigAsync","isUndefined","comp","TabsPageModule","imports","declarations","ManualPollService","routes","path","component","children","loadChildren","m","Tab1PageModule","Tab2PageModule","canActivate","redirectTo","pathMatch","TabsPageRoutingModule","forChild","exports","ConfigCatConsoleLogger","SOURCE","level","message","isLogLevelEnabled","InMemoryCache","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","rejected","done","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","op","TypeError","pop","ConfigCatClient","configCatKernel","evaluator","configService","dispose","getValue","forceRefresh","forceRefreshAsync","getAllKeys","getAllKeysAsync","getVariationId","getVariationIdAsync","variationId","getAllVariationIds","getAllVariationIdsAsync","variationIds","promises","map","all","getKeyAndValue","getKeyAndValueAsync","settingKeyAndValue","settingKey","rolloutRule","percentageItems","percentageItem","settingValue","getAllValues","getAllValuesAsync","forEach","SettingKeyValue","LogLevel","numeric","compareIdentifiers","a","anum","test","bnum","rcompareIdentifiers","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","MAX_SAFE_COMPONENT_LENGTH","re","src","R","createToken","name","index","RegExp","SemVer","version","loose","includePrerelease","match","raw","major","minor","patch","prerelease","id","num","build","format","compare","other","compareMain","comparePre","compareBuild","inc","release","r","er","valid","looseeq","eq","lt","lte","gt","gte","AutoPollConfigService","autoPollConfig","startRefreshWorker","maxInitWaitTimeStamp","tryReadFromCache","refreshLogic","clearTimeout","timerId","cachedConfig","delay","setTimeout","tries","diff","sleep","Math","min","ms"],"mappings":"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","file":"tabs-tabs-module-es5.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ConfigCatConsoleLogger } from \"./ConfigCatLogger\";\nimport { LogLevel } from \"./index\";\nimport { InMemoryCache } from \"./Cache\";\nimport COMMON_VERSION from \"./Version\";\n/** Control the location of the config.json files containing your feature flags and settings within the ConfigCat CDN. */\nexport var DataGovernance;\n(function (DataGovernance) {\n    /** Select this if your feature flags are published to all global CDN nodes. */\n    DataGovernance[DataGovernance[\"Global\"] = 0] = \"Global\";\n    /** Select this if your feature flags are published to CDN nodes only in the EU. */\n    DataGovernance[DataGovernance[\"EuOnly\"] = 1] = \"EuOnly\";\n})(DataGovernance || (DataGovernance = {}));\nvar OptionsBase = /** @class */ (function () {\n    function OptionsBase(apiKey, clientVersion, options, defaultCache) {\n        var _a;\n        this.configFileName = \"config_v5\";\n        this.logger = new ConfigCatConsoleLogger(LogLevel.Warn);\n        this.requestTimeoutMs = 30000;\n        this.baseUrlOverriden = false;\n        this.proxy = \"\";\n        if (!apiKey) {\n            throw new Error(\"Invalid 'apiKey' value\");\n        }\n        if (!defaultCache) {\n            defaultCache = new InMemoryCache();\n        }\n        this.apiKey = apiKey;\n        this.clientVersion = clientVersion;\n        this.dataGovernance = (_a = options === null || options === void 0 ? void 0 : options.dataGovernance) !== null && _a !== void 0 ? _a : DataGovernance.Global;\n        this.cache = defaultCache;\n        switch (this.dataGovernance) {\n            case DataGovernance.EuOnly:\n                this.baseUrl = \"https://cdn-eu.configcat.com\";\n                break;\n            default:\n                this.baseUrl = \"https://cdn-global.configcat.com\";\n                break;\n        }\n        if (options) {\n            if (options.logger) {\n                this.logger = options.logger;\n            }\n            if (options.requestTimeoutMs) {\n                if (options.requestTimeoutMs < 0) {\n                    throw new Error(\"Invalid 'requestTimeoutMs' value\");\n                }\n                this.requestTimeoutMs = options.requestTimeoutMs;\n            }\n            if (options.baseUrl) {\n                this.baseUrl = options.baseUrl;\n                this.baseUrlOverriden = true;\n            }\n            if (options.proxy) {\n                this.proxy = options.proxy;\n            }\n            if (options.cache) {\n                this.cache = options.cache;\n            }\n        }\n    }\n    OptionsBase.prototype.getUrl = function () {\n        return this.baseUrl + \"/configuration-files/\" + this.apiKey + \"/\" + this.configFileName + \".json\";\n    };\n    OptionsBase.prototype.getCacheKey = function () {\n        return \"js_\" + this.configFileName + \"_\" + this.apiKey;\n    };\n    return OptionsBase;\n}());\nexport { OptionsBase };\nvar AutoPollOptions = /** @class */ (function (_super) {\n    __extends(AutoPollOptions, _super);\n    function AutoPollOptions(apiKey, options, defaultCache) {\n        var _this = _super.call(this, apiKey, \"a-\" + COMMON_VERSION, options, defaultCache) || this;\n        /** The client's poll interval in seconds. Default: 60 seconds. */\n        _this.pollIntervalSeconds = 60;\n        /** You can subscribe to configuration changes with this callback. */\n        _this.configChanged = function () { };\n        /** Maximum waiting time between the client initialization and the first config acquisition in secconds. */\n        _this.maxInitWaitTimeSeconds = 5;\n        if (options) {\n            if (options.pollIntervalSeconds !== undefined && options.pollIntervalSeconds !== null) {\n                _this.pollIntervalSeconds = options.pollIntervalSeconds;\n            }\n            if (options.configChanged) {\n                _this.configChanged = options.configChanged;\n            }\n            if (options.maxInitWaitTimeSeconds !== undefined && options.maxInitWaitTimeSeconds !== null) {\n                _this.maxInitWaitTimeSeconds = options.maxInitWaitTimeSeconds;\n            }\n        }\n        if (_this.pollIntervalSeconds < 1) {\n            throw new Error(\"Invalid 'pollIntervalSeconds' value\");\n        }\n        if (_this.maxInitWaitTimeSeconds < 0) {\n            throw new Error(\"Invalid 'maxInitWaitTimeSeconds' value\");\n        }\n        return _this;\n    }\n    return AutoPollOptions;\n}(OptionsBase));\nexport { AutoPollOptions };\nvar ManualPollOptions = /** @class */ (function (_super) {\n    __extends(ManualPollOptions, _super);\n    function ManualPollOptions(apiKey, options, defaultCache) {\n        return _super.call(this, apiKey, \"m-\" + COMMON_VERSION, options, defaultCache) || this;\n    }\n    return ManualPollOptions;\n}(OptionsBase));\nexport { ManualPollOptions };\nvar LazyLoadOptions = /** @class */ (function (_super) {\n    __extends(LazyLoadOptions, _super);\n    function LazyLoadOptions(apiKey, options, defaultCache) {\n        var _this = _super.call(this, apiKey, \"l-\" + COMMON_VERSION, options, defaultCache) || this;\n        /** The cache TTL. */\n        _this.cacheTimeToLiveSeconds = 60;\n        if (options) {\n            if (options.cacheTimeToLiveSeconds) {\n                _this.cacheTimeToLiveSeconds = options.cacheTimeToLiveSeconds;\n            }\n        }\n        if (!_this.cacheTimeToLiveSeconds || _this.cacheTimeToLiveSeconds < 1) {\n            throw new Error(\"Invalid 'cacheTimeToLiveSeconds' value. Value must be greater than zero.\");\n        }\n        return _this;\n    }\n    return LazyLoadOptions;\n}(OptionsBase));\nexport { LazyLoadOptions };\n","import { ConfigFile, Preferences, ProjectConfig } from \"./ProjectConfig\";\nvar ConfigServiceBase = /** @class */ (function () {\n    function ConfigServiceBase(configFetcher, baseConfig) {\n        this.configFetcher = configFetcher;\n        this.baseConfig = baseConfig;\n    }\n    ConfigServiceBase.prototype.refreshLogicBaseAsync = function (lastProjectConfig, forceUpdateCache) {\n        var _this = this;\n        if (forceUpdateCache === void 0) { forceUpdateCache = true; }\n        return new Promise(function (resolve) {\n            _this.fetchLogic(_this.baseConfig, lastProjectConfig, 0, function (newConfig) {\n                if (newConfig && newConfig.ConfigJSON) {\n                    if (forceUpdateCache || !ProjectConfig.equals(newConfig, lastProjectConfig)) {\n                        _this.baseConfig.cache.set(_this.baseConfig.getCacheKey(), newConfig);\n                    }\n                    resolve(newConfig);\n                }\n                else {\n                    resolve(lastProjectConfig);\n                }\n            });\n        });\n    };\n    ConfigServiceBase.prototype.fetchLogic = function (options, lastProjectConfig, retries, callback) {\n        var _this = this;\n        var calledBaseUrl = this.baseConfig.baseUrl;\n        this.configFetcher.fetchLogic(this.baseConfig, lastProjectConfig, function (newConfig) {\n            if (!newConfig || !newConfig.ConfigJSON) {\n                callback(null);\n                return;\n            }\n            var preferences = newConfig.ConfigJSON[ConfigFile.Preferences];\n            if (!preferences) {\n                callback(newConfig);\n                return;\n            }\n            var baseUrl = preferences[Preferences.BaseUrl];\n            // If the base_url is the same as the last called one, just return the response.\n            if (!baseUrl || baseUrl == calledBaseUrl) {\n                callback(newConfig);\n                return;\n            }\n            var redirect = preferences[Preferences.Redirect];\n            // If the base_url is overridden, and the redirect parameter is not 2 (force),\n            // the SDK should not redirect the calls and it just have to return the response.\n            if (options.baseUrlOverriden && redirect !== 2) {\n                callback(newConfig);\n                return;\n            }\n            options.baseUrl = baseUrl;\n            if (redirect === 0) {\n                callback(newConfig);\n                return;\n            }\n            if (redirect === 1) {\n                options.logger.warn(\"Your dataGovernance parameter at ConfigCatClient initialization is not in sync \" +\n                    \"with your preferences on the ConfigCat Dashboard: \" +\n                    \"https://app.configcat.com/organization/data-governance. \" +\n                    \"Only Organization Admins can access this preference.\");\n            }\n            if (retries >= 2) {\n                options.logger.error(\"Redirect loop during config.json fetch. Please contact support@configcat.com.\");\n                callback(newConfig);\n                return;\n            }\n            _this.fetchLogic(options, lastProjectConfig, ++retries, callback);\n            return;\n        });\n    };\n    return ConfigServiceBase;\n}());\nexport { ConfigServiceBase };\n","export default \"<ion-tabs>\\n  <ion-tab-bar slot=\\\"bottom\\\">\\n    <ion-tab-button tab=\\\"tab1\\\">\\n      <ion-icon name=\\\"clipboard-outline\\\"></ion-icon>\\n      <ion-label>Pendientes</ion-label>\\n    </ion-tab-button>\\n\\n    <ion-tab-button tab=\\\"tab2\\\" *ngIf=\\\"listFeature\\\">\\n      <ion-icon name=\\\"checkmark-done-outline\\\"></ion-icon>\\n      <ion-label>Terminados</ion-label>\\n    </ion-tab-button>\\n  </ion-tab-bar>\\n</ion-tabs>\\n\";","import * as configcatcommon from \"configcat-common\";\nimport { HttpConfigFetcher } from \"./ConfigFetcher\";\nimport { LocalStorageCache } from \"./Cache\";\n/**\n * Create an instance of ConfigCatClient and setup Auto polling with default options.\n * @param {string} sdkkey - SDK Key to access your configuration.\n * @param options - Options for Auto polling\n */\nexport function createClient(sdkkey, options) {\n    return createClientWithAutoPoll(sdkkey, options);\n}\n/**\n * Create an instance of ConfigCatClient and setup Auto polling.\n * @param {string} sdkkey - SDK Key to access your configuration.\n * @param options - Options for Auto polling\n */\nexport function createClientWithAutoPoll(sdkKey, options) {\n    return configcatcommon.createClientWithAutoPoll(sdkKey, { configFetcher: new HttpConfigFetcher(), cache: new LocalStorageCache() }, options);\n}\n/**\n * Create an instance of ConfigCatClient and setup Manual polling.\n * @param {string} sdkKey - SDK Key to access your configuration.\n * @param options - Options for Manual polling\n */\nexport function createClientWithManualPoll(sdkKey, options) {\n    return configcatcommon.createClientWithManualPoll(sdkKey, {\n        configFetcher: new HttpConfigFetcher(),\n        cache: new LocalStorageCache(),\n    }, options);\n}\n/**\n * Create an instance of ConfigCatClient and setup Lazy loading.\n * @param {string} sdkKey - SDK Key to access your configuration.\n * @param options - Options for Lazy loading\n */\nexport function createClientWithLazyLoad(sdkKey, options) {\n    return configcatcommon.createClientWithLazyLoad(sdkKey, { configFetcher: new HttpConfigFetcher(), cache: new LocalStorageCache() }, options);\n}\nexport function createConsoleLogger(logLevel) {\n    return configcatcommon.createConsoleLogger(logLevel);\n}\nexport var DataGovernance = {\n    /** Select this if your feature flags are published to all global CDN nodes. */\n    Global: configcatcommon.DataGovernance.Global,\n    /** Select this if your feature flags are published to CDN nodes only in the EU. */\n    EuOnly: configcatcommon.DataGovernance.EuOnly\n};\nexport default createClient;\n","export default \"4.4.0\";\n","import { Component } from \"@angular/core\";\nimport { ConfigcatService } from \"../services/configcat.service\";\nimport { Subscription } from \"rxjs\";\n\n@Component({\n  selector: \"app-tabs\",\n  templateUrl: \"tabs.page.html\",\n  styleUrls: [\"tabs.page.scss\"],\n})\nexport class TabsPage {\n  listFeature: boolean; //Feature flag\n  subscription: Subscription;\n  constructor(public configCatService: ConfigcatService) {\n    //Subscripcion a observable para escuchar cambios en el servicio\n    configCatService.getlist_feature().then((enabled) => {\n      this.listFeature = enabled;\n    });\n  }\n\n  ngOnInit(): void {\n    this.subscription = this.configCatService.list_featureObs.subscribe(\n      (enabled) => {\n        this.listFeature = enabled;\n        console.log(enabled);\n      }\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","var ProjectConfig = /** @class */ (function () {\n    function ProjectConfig(timeStamp, jsonConfig, httpETag) {\n        this.Timestamp = timeStamp;\n        this.ConfigJSON = JSON.parse(jsonConfig);\n        this.HttpETag = httpETag;\n    }\n    /**\n     * Determines whether the specified ProjectConfig instances are considered equal.\n     */\n    ProjectConfig.equals = function (projectConfig1, projectConfig2) {\n        if (!projectConfig1 || !projectConfig2)\n            return false;\n        return (this.ensureStrictEtag(projectConfig1.HttpETag) === this.ensureStrictEtag(projectConfig2.HttpETag));\n    };\n    ProjectConfig.ensureStrictEtag = function (etag) {\n        if (!etag) {\n            return etag;\n        }\n        if (etag.length > 2 && etag.substr(0, 2).toLocaleUpperCase() === \"W/\") {\n            return etag.substring(2);\n        }\n        return etag;\n    };\n    return ProjectConfig;\n}());\nexport { ProjectConfig };\nvar ConfigFile = /** @class */ (function () {\n    function ConfigFile() {\n    }\n    ConfigFile.Preferences = \"p\";\n    ConfigFile.FeatureFlags = \"f\";\n    return ConfigFile;\n}());\nexport { ConfigFile };\nvar Preferences = /** @class */ (function () {\n    function Preferences() {\n    }\n    Preferences.BaseUrl = \"u\";\n    Preferences.Redirect = \"r\";\n    return Preferences;\n}());\nexport { Preferences };\nvar Setting = /** @class */ (function () {\n    function Setting() {\n    }\n    Setting.Value = \"v\";\n    Setting.SettingType = \"t\";\n    Setting.RolloutPercentageItems = \"p\";\n    Setting.RolloutRules = \"r\";\n    Setting.VariationId = \"i\";\n    return Setting;\n}());\nexport { Setting };\nvar RolloutRules = /** @class */ (function () {\n    function RolloutRules() {\n    }\n    RolloutRules.Order = \"o\";\n    RolloutRules.ComparisonAttribute = \"a\";\n    RolloutRules.Comparator = \"t\";\n    RolloutRules.ComparisonValue = \"c\";\n    RolloutRules.Value = \"v\";\n    RolloutRules.VariationId = \"i\";\n    return RolloutRules;\n}());\nexport { RolloutRules };\nvar RolloutPercentageItems = /** @class */ (function () {\n    function RolloutPercentageItems() {\n    }\n    RolloutPercentageItems.Order = \"o\";\n    RolloutPercentageItems.Value = \"v\";\n    RolloutPercentageItems.Percentage = \"p\";\n    RolloutPercentageItems.VariationId = \"i\";\n    return RolloutPercentageItems;\n}());\nexport { RolloutPercentageItems };\n","export function sha1(msg) {\n    function rotate_left(n, s) {\n        var t4 = (n << s) | (n >>> (32 - s));\n        return t4;\n    }\n    ;\n    function lsb_hex(val) {\n        var str = \"\";\n        var vh;\n        var vl;\n        for (var i = 0; i <= 6; i += 2) {\n            vh = (val >>> (i * 4 + 4)) & 0x0f;\n            vl = (val >>> (i * 4)) & 0x0f;\n            str += vh.toString(16) + vl.toString(16);\n        }\n        return str;\n    }\n    ;\n    function cvt_hex(val) {\n        var str = \"\";\n        var v;\n        for (var i = 7; i >= 0; i--) {\n            v = (val >>> (i * 4)) & 0x0f;\n            str += v.toString(16);\n        }\n        return str;\n    }\n    ;\n    function Utf8Encode(string) {\n        string = string.replace(/\\r\\n/g, \"\\n\");\n        var utftext = \"\";\n        for (var n = 0; n < string.length; n++) {\n            var c = string.charCodeAt(n);\n            if (c < 128) {\n                utftext += String.fromCharCode(c);\n            }\n            else if ((c > 127) && (c < 2048)) {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n        }\n        return utftext;\n    }\n    ;\n    var blockstart;\n    var i, j;\n    var W = new Array(80);\n    var H0 = 0x67452301;\n    var H1 = 0xEFCDAB89;\n    var H2 = 0x98BADCFE;\n    var H3 = 0x10325476;\n    var H4 = 0xC3D2E1F0;\n    var A, B, C, D, E;\n    var temp;\n    msg = Utf8Encode(msg);\n    var msg_len = msg.length;\n    var word_array = new Array();\n    for (i = 0; i < msg_len - 3; i += 4) {\n        j = msg.charCodeAt(i) << 24 | msg.charCodeAt(i + 1) << 16 |\n            msg.charCodeAt(i + 2) << 8 | msg.charCodeAt(i + 3);\n        word_array.push(j);\n    }\n    switch (msg_len % 4) {\n        case 0:\n            i = 0x080000000;\n            break;\n        case 1:\n            i = msg.charCodeAt(msg_len - 1) << 24 | 0x0800000;\n            break;\n        case 2:\n            i = msg.charCodeAt(msg_len - 2) << 24 | msg.charCodeAt(msg_len - 1) << 16 | 0x08000;\n            break;\n        case 3:\n            i = msg.charCodeAt(msg_len - 3) << 24 | msg.charCodeAt(msg_len - 2) << 16 | msg.charCodeAt(msg_len - 1) << 8 | 0x80;\n            break;\n    }\n    word_array.push(i);\n    while ((word_array.length % 16) != 14)\n        word_array.push(0);\n    word_array.push(msg_len >>> 29);\n    word_array.push((msg_len << 3) & 0x0ffffffff);\n    for (blockstart = 0; blockstart < word_array.length; blockstart += 16) {\n        for (i = 0; i < 16; i++)\n            W[i] = word_array[blockstart + i];\n        for (i = 16; i <= 79; i++)\n            W[i] = rotate_left(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n        A = H0;\n        B = H1;\n        C = H2;\n        D = H3;\n        E = H4;\n        for (i = 0; i <= 19; i++) {\n            temp = (rotate_left(A, 5) + ((B & C) | (~B & D)) + E + W[i] + 0x5A827999) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 20; i <= 39; i++) {\n            temp = (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 40; i <= 59; i++) {\n            temp = (rotate_left(A, 5) + ((B & C) | (B & D) | (C & D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        for (i = 60; i <= 79; i++) {\n            temp = (rotate_left(A, 5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff;\n            E = D;\n            D = C;\n            C = rotate_left(B, 30);\n            B = A;\n            A = temp;\n        }\n        H0 = (H0 + A) & 0x0ffffffff;\n        H1 = (H1 + B) & 0x0ffffffff;\n        H2 = (H2 + C) & 0x0ffffffff;\n        H3 = (H3 + D) & 0x0ffffffff;\n        H4 = (H4 + E) & 0x0ffffffff;\n    }\n    return (cvt_hex(H0) + cvt_hex(H1) + cvt_hex(H2) + cvt_hex(H3) + cvt_hex(H4)).toLowerCase();\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJ0YWJzLnBhZ2Uuc2NzcyJ9 */\";","import { Setting, RolloutRules, RolloutPercentageItems, ConfigFile } from \"./ProjectConfig\";\nimport { sha1 } from \"./Sha1\";\nimport * as semver from \"./Semver\";\nimport { isUndefined } from \"./Utils\";\n/** Object for variation evaluation */\nvar User = /** @class */ (function () {\n    function User(identifier, email, country, custom) {\n        if (email === void 0) { email = null; }\n        if (country === void 0) { country = null; }\n        if (custom === void 0) { custom = {}; }\n        /** Optional dictionary for custom attributes of the User for advanced targeting rule definitions. e.g. User role, Subscription type */\n        this.custom = {};\n        this.identifier = identifier;\n        this.email = email;\n        this.country = country;\n        this.custom = custom;\n    }\n    return User;\n}());\nexport { User };\nvar RolloutEvaluator = /** @class */ (function () {\n    function RolloutEvaluator(logger) {\n        this.logger = logger;\n    }\n    RolloutEvaluator.prototype.Evaluate = function (config, key, defaultValue, user, defaultVariationId) {\n        if (!config || !config.ConfigJSON || !config.ConfigJSON[ConfigFile.FeatureFlags]) {\n            this.logger.error(\"JSONConfig is not present. Returning default value: '\" + defaultValue + \"'.\");\n            return { Value: defaultValue, VariationId: defaultVariationId };\n        }\n        var featureFlags = config.ConfigJSON[ConfigFile.FeatureFlags];\n        if (!featureFlags[key]) {\n            var s = \"Evaluating getValue('\" + key + \"') failed. Returning default value: '\" + defaultValue + \"'.\";\n            s += \" Here are the available keys: {\" + Object.keys(featureFlags).join() + \"}.\";\n            this.logger.error(s);\n            return { Value: defaultValue, VariationId: defaultVariationId };\n        }\n        var featureFlag = featureFlags[key];\n        var eLog = new EvaluateLogger();\n        eLog.User = user;\n        eLog.KeyName = key;\n        eLog.ReturnValue = defaultValue;\n        var result = new EvaluateResult();\n        result.EvaluateLog = eLog;\n        if (user) {\n            result = this.EvaluateRules(featureFlag[Setting.RolloutRules], user, eLog);\n            if (result.ValueAndVariationId == null) {\n                result.ValueAndVariationId = this.EvaluateVariations(featureFlag[Setting.RolloutPercentageItems], key, user);\n                if (result.ValueAndVariationId) {\n                    result.EvaluateLog.ReturnValue = result.ValueAndVariationId.Value;\n                }\n                if (featureFlag[Setting.RolloutPercentageItems].length > 0) {\n                    result.EvaluateLog.OpAppendLine(\"Evaluating % options => \" + (result.ValueAndVariationId == null ? \"user not targeted\" : \"user targeted\"));\n                }\n            }\n        }\n        else {\n            if ((featureFlag[Setting.RolloutRules] && featureFlag[Setting.RolloutRules].length > 0) ||\n                (featureFlag[Setting.RolloutPercentageItems] && featureFlag[Setting.RolloutPercentageItems].length > 0)) {\n                var s = \"Evaluating getValue('\" + key + \"'). \";\n                s += \"UserObject missing! You should pass a UserObject to getValue(), in order to make targeting work properly. \";\n                s += \"Read more: https://configcat.com/docs/advanced/user-object\";\n                this.logger.warn(s);\n            }\n        }\n        if (result.ValueAndVariationId == null) {\n            result.ValueAndVariationId = {\n                Value: featureFlag[Setting.Value],\n                VariationId: featureFlag[Setting.VariationId],\n            };\n            result.EvaluateLog.ReturnValue = result.ValueAndVariationId.Value;\n        }\n        this.logger.info(result.EvaluateLog.GetLog());\n        return result.ValueAndVariationId;\n    };\n    RolloutEvaluator.prototype.EvaluateRules = function (rolloutRules, user, eLog) {\n        var result = new EvaluateResult();\n        result.ValueAndVariationId = null;\n        if (rolloutRules && rolloutRules.length > 0) {\n            var _loop_1 = function (i) {\n                var rule = rolloutRules[i];\n                var comparisonAttribute = this_1.GetUserAttribute(user, rule[RolloutRules.ComparisonAttribute]);\n                if (!comparisonAttribute) {\n                    return \"continue\";\n                }\n                var comparator = rule[RolloutRules.Comparator];\n                var comparisonValue = rule[RolloutRules.ComparisonValue];\n                var log = \"Evaluating rule: '\" + comparisonAttribute + \"' \" + this_1.RuleToString(comparator) + \" '\" + comparisonValue + \"' => \";\n                switch (comparator) {\n                    case 0: // is one of\n                        var cvs = comparisonValue.split(\",\");\n                        for (var ci = 0; ci < cvs.length; ci++) {\n                            if (cvs[ci].trim() === comparisonAttribute) {\n                                log += \"MATCH\";\n                                eLog.OpAppendLine(log);\n                                result.ValueAndVariationId = {\n                                    Value: rule[RolloutRules.Value],\n                                    VariationId: rule[RolloutRules.VariationId]\n                                };\n                                eLog.ReturnValue = result.ValueAndVariationId.Value;\n                                result.EvaluateLog = eLog;\n                                return { value: result };\n                            }\n                        }\n                        log += \"no match\";\n                        break;\n                    case 1: // is not one of\n                        if (!comparisonValue.split(\",\").some(function (e) {\n                            if (e.trim() === comparisonAttribute) {\n                                return true;\n                            }\n                            return false;\n                        })) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[RolloutRules.Value],\n                                VariationId: rule[RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 2: // contains\n                        if (comparisonAttribute.search(comparisonValue) !== -1) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[RolloutRules.Value],\n                                VariationId: rule[RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 3: // not contains\n                        if (comparisonAttribute.search(comparisonValue) === -1) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[RolloutRules.Value],\n                                VariationId: rule[RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 4:\n                    case 5:\n                    case 6:\n                    case 7:\n                    case 8:\n                    case 9:\n                        if (this_1.EvaluateSemver(comparisonAttribute, comparisonValue, comparator)) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[RolloutRules.Value],\n                                VariationId: rule[RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 10:\n                    case 11:\n                    case 12:\n                    case 13:\n                    case 14:\n                    case 15:\n                        if (this_1.EvaluateNumber(comparisonAttribute, comparisonValue, comparator)) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[RolloutRules.Value],\n                                VariationId: rule[RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    case 16: // is one of (sensitive)\n                        var values = comparisonValue.split(\",\");\n                        for (var ci = 0; ci < values.length; ci++) {\n                            if (values[ci].trim() === sha1(comparisonAttribute)) {\n                                log += \"MATCH\";\n                                eLog.OpAppendLine(log);\n                                result.ValueAndVariationId = {\n                                    Value: rule[RolloutRules.Value],\n                                    VariationId: rule[RolloutRules.VariationId]\n                                };\n                                eLog.ReturnValue = result.ValueAndVariationId.Value;\n                                result.EvaluateLog = eLog;\n                                return { value: result };\n                            }\n                        }\n                        log += \"no match\";\n                        break;\n                    case 17: // is not one of (sensitive)\n                        if (!comparisonValue.split(\",\").some(function (e) {\n                            if (e.trim() === sha1(comparisonAttribute)) {\n                                return true;\n                            }\n                            return false;\n                        })) {\n                            log += \"MATCH\";\n                            eLog.OpAppendLine(log);\n                            result.ValueAndVariationId = {\n                                Value: rule[RolloutRules.Value],\n                                VariationId: rule[RolloutRules.VariationId]\n                            };\n                            eLog.ReturnValue = result.ValueAndVariationId.Value;\n                            result.EvaluateLog = eLog;\n                            return { value: result };\n                        }\n                        log += \"no match\";\n                        break;\n                    default:\n                        break;\n                }\n                eLog.OpAppendLine(log);\n            };\n            var this_1 = this;\n            for (var i = 0; i < rolloutRules.length; i++) {\n                var state_1 = _loop_1(i);\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n            }\n        }\n        result.EvaluateLog = eLog;\n        return result;\n    };\n    RolloutEvaluator.prototype.EvaluateVariations = function (rolloutPercentageItems, key, user) {\n        if (rolloutPercentageItems && rolloutPercentageItems.length > 0) {\n            var hashCandidate = key + ((user.identifier === null || user.identifier === undefined) ? '' : user.identifier);\n            var hashValue = sha1(hashCandidate).substring(0, 7);\n            var hashScale = parseInt(hashValue, 16) % 100;\n            var bucket = 0;\n            for (var i = 0; i < rolloutPercentageItems.length; i++) {\n                var variation = rolloutPercentageItems[i];\n                bucket += +variation[RolloutPercentageItems.Percentage];\n                if (hashScale < bucket) {\n                    return {\n                        Value: variation[RolloutPercentageItems.Value],\n                        VariationId: variation[RolloutPercentageItems.VariationId]\n                    };\n                }\n            }\n        }\n        return null;\n    };\n    RolloutEvaluator.prototype.EvaluateNumber = function (v1, v2, comparator) {\n        var n1, n2;\n        if (v1 && !Number.isNaN(Number.parseFloat(v1.replace(',', '.')))) {\n            n1 = Number.parseFloat(v1.replace(',', '.'));\n        }\n        else {\n            return false;\n        }\n        if (v2 && !Number.isNaN(Number.parseFloat(v2.replace(',', '.')))) {\n            n2 = Number.parseFloat(v2.replace(',', '.'));\n        }\n        else {\n            return false;\n        }\n        switch (comparator) {\n            case 10:\n                return n1 == n2;\n            case 11:\n                return n1 != n2;\n            case 12:\n                return n1 < n2;\n            case 13:\n                return n1 <= n2;\n            case 14:\n                return n1 > n2;\n            case 15:\n                return n1 >= n2;\n            default:\n                break;\n        }\n        return false;\n    };\n    RolloutEvaluator.prototype.EvaluateSemver = function (v1, v2, comparator) {\n        if (semver.valid(v1) == null || isUndefined(v2)) {\n            return false;\n        }\n        v2 = v2.trim();\n        switch (comparator) {\n            case 4:\n                // in\n                var sv = v2.split(\",\");\n                var found = false;\n                for (var ci = 0; ci < sv.length; ci++) {\n                    if (!sv[ci] || isUndefined(sv[ci]) || sv[ci].trim() === \"\") {\n                        continue;\n                    }\n                    if (semver.valid(sv[ci].trim()) == null) {\n                        return false;\n                    }\n                    if (!found) {\n                        found = semver.looseeq(v1, sv[ci].trim());\n                    }\n                }\n                return found;\n            case 5:\n                // not in\n                return !v2.split(\",\").some(function (e) {\n                    if (!e || isUndefined(e) || e.trim() === \"\") {\n                        return false;\n                    }\n                    e = semver.valid(e.trim());\n                    if (e == null) {\n                        return false;\n                    }\n                    return semver.eq(v1, e);\n                });\n            case 6:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.lt(v1, v2);\n            case 7:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.lte(v1, v2);\n            case 8:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.gt(v1, v2);\n            case 9:\n                if (semver.valid(v2) == null) {\n                    return false;\n                }\n                return semver.gte(v1, v2);\n            default:\n                break;\n        }\n        return false;\n    };\n    RolloutEvaluator.prototype.GetUserAttribute = function (user, attribute) {\n        switch (attribute) {\n            case \"Identifier\":\n                return user.identifier;\n            case \"Email\":\n                return user.email;\n            case \"Country\":\n                return user.country;\n            default:\n                return (user.custom || {})[attribute];\n        }\n    };\n    RolloutEvaluator.prototype.RuleToString = function (rule) {\n        switch (rule) {\n            case 0:\n                return \"IS ONE OF\";\n            case 1:\n                return \"IS NOT ONE OF\";\n            case 2:\n                return \"CONTAINS\";\n            case 3:\n                return \"DOES NOT CONTAIN\";\n            case 4:\n                return \"IS ONE OF (SemVer)\";\n            case 5:\n                return \"IS NOT ONE OF (SemVer)\";\n            case 6:\n                return \"< (SemVer)\";\n            case 7:\n                return \"<= (SemVer)\";\n            case 8:\n                return \"> (SemVer)\";\n            case 9:\n                return \">= (SemVer)\";\n            case 10:\n                return \"= (Number)\";\n            case 11:\n                return \"!= (Number)\";\n            case 12:\n                return \"< (Number)\";\n            case 13:\n                return \"<= (Number)\";\n            case 14:\n                return \"> (Number)\";\n            case 15:\n                return \">= (Number)\";\n            case 16:\n                return \"IS ONE OF (Sensitive)\";\n            case 17:\n                return \"IS NOT ONE OF (Sensitive)\";\n            default:\n                return rule;\n        }\n    };\n    return RolloutEvaluator;\n}());\nexport { RolloutEvaluator };\nvar ValueAndVariationId = /** @class */ (function () {\n    function ValueAndVariationId() {\n    }\n    return ValueAndVariationId;\n}());\nvar EvaluateResult = /** @class */ (function () {\n    function EvaluateResult() {\n    }\n    return EvaluateResult;\n}());\nvar EvaluateLogger = /** @class */ (function () {\n    function EvaluateLogger() {\n        this.Operations = \"\";\n    }\n    EvaluateLogger.prototype.OpAppendLine = function (s) {\n        this.Operations += \" \" + s + \"\\n\";\n    };\n    EvaluateLogger.prototype.GetLog = function () {\n        return \"Evaluate '\" + this.KeyName + \"'\"\n            + \"\\n User : \" + JSON.stringify(this.User)\n            + \"\\n\" + this.Operations\n            + \" Returning value : \" + this.ReturnValue;\n    };\n    return EvaluateLogger;\n}());\n","import { Injectable } from \"@angular/core\";\nimport { ConfigcatService } from \"./configcat.service\";\nimport {\n  Router,\n  CanActivate,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot,\n  UrlTree,\n} from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { NavController } from \"@ionic/angular\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class RoutesGuardService implements CanActivate {\n  activated = true;\n\n  constructor(\n    public configCatService: ConfigcatService,\n    private navCtrl: NavController,\n    private router: Router\n  ) {\n    const params = router.getCurrentNavigation().extras;\n  }\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    debugger;\n    const enabled = await this.configCatService.getlist_feature();\n    if (!enabled) {\n      this.navCtrl.navigateRoot([\"/tabs/tab1\"], { state: {}, animated: true });\n      return false;\n    }\n\n    return true;\n  }\n}\n","var LocalStorageCache = /** @class */ (function () {\n    function LocalStorageCache() {\n        this.cache = {};\n    }\n    LocalStorageCache.prototype.set = function (key, config) {\n        this.cache[key] = config;\n        try {\n            localStorage.setItem(key, btoa(JSON.stringify(config)));\n        }\n        catch (ex) {\n            // local storage is unavailable\n        }\n    };\n    LocalStorageCache.prototype.get = function (key) {\n        var config = this.cache[key];\n        if (config) {\n            return config;\n        }\n        try {\n            var configString = localStorage.getItem(key);\n            if (configString) {\n                var config_1 = JSON.parse(atob(configString));\n                if (config_1) {\n                    this.cache[key] = config_1;\n                    return config_1;\n                }\n            }\n        }\n        catch (ex) {\n            // local storage is unavailable or invalid cache value in localstorage\n        }\n        return null;\n    };\n    return LocalStorageCache;\n}());\nexport { LocalStorageCache };\n","import { Injectable } from \"@angular/core\";\nimport * as configcat from \"configcat-js\";\nimport { IConfigCatClient } from \"configcat-common/lib/ConfigCatClient\";\nimport { Observable, Subject } from \"rxjs\";\nimport { LogLevel } from \"configcat-common\";\nimport { Platform } from \"@ionic/angular\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ConfigcatService {\n  private configCatClient: IConfigCatClient;\n  private platformName: string;\n\n  private list_feature: Subject<boolean> = new Subject<boolean>();\n  public list_featureObs: Observable<boolean> = this.list_feature.asObservable();\n\n  constructor(public platform: Platform) {\n    let logger = configcat.createConsoleLogger(LogLevel.Info); // Setting log level to 3 (Info)\n    this.platformName = this.platform\n      .platforms()\n      .find((platform) => platform === \"android\" || platform === \"ios\");\n    console.log(this.platformName);\n    //Configuracion de cliente\n    this.configCatClient = configcat.createClientWithAutoPoll(\n      \"VqDYCHA8hUSDB78ion6qaQ/C8uDWiW6HU-GRdDf-INAgQ\",\n      {\n        // <-- This is the actual SDK Key for your Production environment\n        pollIntervalSeconds: 5, //tiempo en segundos para hacer pull de la configuracinn de config cat\n        logger: logger,\n        configChanged: async () => {\n          //deteccion de cambios en la configuracin\n\n          //actualizacin del sujeto\n          this.list_feature.next(await this.getlist_feature());\n        },\n      }\n    );\n  }\n\n  //funcin para saber si un feature est encendido o apagado\n  async getlist_feature(): Promise<boolean> {\n    return await this.configCatClient.getValueAsync(\"prueba\", false);\n  }\n}\n","import { IConfigFetcher, ProjectConfig } from \"configcat-common\";\nvar HttpConfigFetcher = /** @class */ (function () {\n    function HttpConfigFetcher() {\n    }\n    HttpConfigFetcher.prototype.fetchLogic = function (options, lastProjectConfig, callback) {\n        var httpRequest = new XMLHttpRequest();\n        httpRequest.onreadystatechange = function () {\n            if (httpRequest.readyState === 4) {\n                var etag = httpRequest.getResponseHeader(\"ETag\");\n                if (httpRequest.status === 200) {\n                    callback(new ProjectConfig(new Date().getTime(), httpRequest.responseText, etag));\n                }\n                else if (httpRequest.status === 304) {\n                    callback(new ProjectConfig(new Date().getTime(), JSON.stringify(lastProjectConfig.ConfigJSON), etag));\n                }\n                else {\n                    options.logger.error(\"Failed to download feature flags & settings from ConfigCat. \" + httpRequest.status + \" - \" + httpRequest.statusText);\n                    callback(lastProjectConfig);\n                }\n            }\n        };\n        httpRequest.open(\"GET\", options.getUrl(), true);\n        httpRequest.timeout = options.requestTimeoutMs;\n        httpRequest.setRequestHeader(\"X-ConfigCat-UserAgent\", \"ConfigCat-JS/\" + options.clientVersion);\n        httpRequest.setRequestHeader(\"Cache-Control\", \"no-cache\"); // any locally cached version isn't trusted without the server's say-so\n        if (lastProjectConfig && lastProjectConfig.HttpETag) {\n            httpRequest.setRequestHeader(\"If-None-Match\", lastProjectConfig.HttpETag);\n        }\n        httpRequest.send(null);\n    };\n    return HttpConfigFetcher;\n}());\nexport { HttpConfigFetcher };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ConfigServiceBase } from \"./ConfigServiceBase\";\nvar LazyLoadConfigService = /** @class */ (function (_super) {\n    __extends(LazyLoadConfigService, _super);\n    function LazyLoadConfigService(configFetcher, config) {\n        var _this = _super.call(this, configFetcher, config) || this;\n        _this.cacheTimeToLiveSeconds = config.cacheTimeToLiveSeconds;\n        return _this;\n    }\n    LazyLoadConfigService.prototype.getConfig = function () {\n        var p = this.baseConfig.cache.get(this.baseConfig.getCacheKey());\n        if (p && p.Timestamp + (this.cacheTimeToLiveSeconds * 1000) > new Date().getTime()) {\n            return new Promise(function (resolve) { return resolve(p); });\n        }\n        else {\n            return this.refreshLogicBaseAsync(p);\n        }\n    };\n    LazyLoadConfigService.prototype.refreshConfigAsync = function () {\n        var p = this.baseConfig.cache.get(this.baseConfig.getCacheKey());\n        return this.refreshLogicBaseAsync(p);\n    };\n    return LazyLoadConfigService;\n}(ConfigServiceBase));\nexport { LazyLoadConfigService };\n","export var isUndefined = function (comp) { return comp === undefined; };\n","import { IonicModule } from '@ionic/angular';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { TabsPageRoutingModule } from './tabs-routing.module';\n\nimport { TabsPage } from './tabs.page';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    TabsPageRoutingModule\n  ],\n  declarations: [TabsPage]\n})\nexport class TabsPageModule {}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ConfigServiceBase } from \"./ConfigServiceBase\";\nvar ManualPollService = /** @class */ (function (_super) {\n    __extends(ManualPollService, _super);\n    function ManualPollService(configFetcher, config) {\n        return _super.call(this, configFetcher, config) || this;\n    }\n    ManualPollService.prototype.getConfig = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return resolve(_this.baseConfig.cache.get(_this.baseConfig.getCacheKey())); });\n    };\n    ManualPollService.prototype.refreshConfigAsync = function () {\n        var p = this.baseConfig.cache.get(this.baseConfig.getCacheKey());\n        return this.refreshLogicBaseAsync(p);\n    };\n    return ManualPollService;\n}(ConfigServiceBase));\nexport { ManualPollService };\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { RoutesGuardService } from \"../services/routes-guard.service\";\nimport { TabsPage } from \"./tabs.page\";\n\nconst routes: Routes = [\n  {\n    path: \"tabs\",\n    component: TabsPage,\n    children: [\n      {\n        path: \"tab1\",\n        loadChildren: () =>\n          import(\"../pages/tab1/tab1.module\").then((m) => m.Tab1PageModule),\n      },\n      {\n        path: \"tab2\",\n        loadChildren: () =>\n          import(\"../pages/tab2/tab2.module\").then((m) => m.Tab2PageModule),\n        canActivate: [RoutesGuardService],\n      },\n\n      {\n        path: \"\",\n        redirectTo: \"/tabs/tab1\",\n        pathMatch: \"full\",\n      },\n    ],\n  },\n  {\n    path: \"\",\n    redirectTo: \"/tabs/tab1\",\n    pathMatch: \"full\",\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TabsPageRoutingModule {}\n","import { LogLevel } from \"./index\";\nvar ConfigCatConsoleLogger = /** @class */ (function () {\n    /**\n     * Create an instance of ConfigCatConsoleLogger\n     */\n    function ConfigCatConsoleLogger(logLevel) {\n        this.SOURCE = \"ConfigCat\";\n        this.level = LogLevel.Warn;\n        if (logLevel) {\n            this.level = logLevel;\n        }\n    }\n    ConfigCatConsoleLogger.prototype.log = function (message) {\n        this.info(message);\n    };\n    ConfigCatConsoleLogger.prototype.info = function (message) {\n        if (this.isLogLevelEnabled(LogLevel.Info)) {\n            console.info(this.SOURCE + \" - INFO - \" + message);\n        }\n    };\n    ConfigCatConsoleLogger.prototype.warn = function (message) {\n        if (this.isLogLevelEnabled(LogLevel.Warn)) {\n            console.warn(this.SOURCE + \" - WARN - \" + message);\n        }\n    };\n    ConfigCatConsoleLogger.prototype.error = function (message) {\n        if (this.isLogLevelEnabled(LogLevel.Error)) {\n            console.error(this.SOURCE + \" - ERROR - \" + message);\n        }\n    };\n    ConfigCatConsoleLogger.prototype.isLogLevelEnabled = function (logLevel) {\n        return this.level >= logLevel;\n    };\n    return ConfigCatConsoleLogger;\n}());\nexport { ConfigCatConsoleLogger };\n","var InMemoryCache = /** @class */ (function () {\n    function InMemoryCache() {\n        this.cache = {};\n    }\n    InMemoryCache.prototype.set = function (key, config) {\n        this.cache[key] = config;\n    };\n    InMemoryCache.prototype.get = function (key) {\n        return this.cache[key];\n    };\n    return InMemoryCache;\n}());\nexport { InMemoryCache };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { AutoPollOptions, ManualPollOptions, LazyLoadOptions } from \"./ConfigCatClientOptions\";\nimport { AutoPollConfigService } from \"./AutoPollConfigService\";\nimport { LazyLoadConfigService } from \"./LazyLoadConfigService\";\nimport { ManualPollService } from \"./ManualPollService\";\nimport { RolloutEvaluator } from \"./RolloutEvaluator\";\nimport { Setting, RolloutRules, RolloutPercentageItems, ConfigFile } from \"./ProjectConfig\";\nvar ConfigCatClient = /** @class */ (function () {\n    function ConfigCatClient(options, configCatKernel) {\n        if (!options) {\n            throw new Error(\"Invalid 'options' value\");\n        }\n        this.options = options;\n        if (!configCatKernel) {\n            throw new Error(\"Invalid 'configCatKernel' value\");\n        }\n        if (!configCatKernel.configFetcher) {\n            throw new Error(\"Invalid 'configCatKernel.configFetcher' value\");\n        }\n        this.evaluator = new RolloutEvaluator(options.logger);\n        if (options && options instanceof LazyLoadOptions) {\n            this.configService = new LazyLoadConfigService(configCatKernel.configFetcher, options);\n        }\n        else if (options && options instanceof ManualPollOptions) {\n            this.configService = new ManualPollService(configCatKernel.configFetcher, options);\n        }\n        else if (options && options instanceof AutoPollOptions) {\n            this.configService = new AutoPollConfigService(configCatKernel.configFetcher, options);\n        }\n        else {\n            throw new Error(\"Invalid 'options' value\");\n        }\n    }\n    ConfigCatClient.prototype.dispose = function () {\n        if (this.configService instanceof AutoPollConfigService) {\n            this.configService.dispose();\n        }\n    };\n    ConfigCatClient.prototype.getValue = function (key, defaultValue, callback, user) {\n        this.getValueAsync(key, defaultValue, user).then(function (value) {\n            callback(value);\n        });\n    };\n    ConfigCatClient.prototype.getValueAsync = function (key, defaultValue, user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        result = this.evaluator.Evaluate(config, key, defaultValue, user).Value;\n                        resolve(result);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.forceRefresh = function (callback) {\n        this.forceRefreshAsync().then(function () {\n            callback();\n        });\n    };\n    ConfigCatClient.prototype.forceRefreshAsync = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.refreshConfigAsync()];\n                    case 1:\n                        _a.sent();\n                        resolve();\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getAllKeys = function (callback) {\n        this.getAllKeysAsync().then(function (value) {\n            callback(value);\n        });\n    };\n    ConfigCatClient.prototype.getAllKeysAsync = function () {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        if (!config || !config.ConfigJSON || !config.ConfigJSON[ConfigFile.FeatureFlags]) {\n                            this.options.logger.error(\"config.json is not present, returning empty array\");\n                            resolve([]);\n                            return [2 /*return*/];\n                        }\n                        resolve(Object.keys(config.ConfigJSON[ConfigFile.FeatureFlags]));\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getVariationId = function (key, defaultVariationId, callback, user) {\n        this.getVariationIdAsync(key, defaultVariationId, user).then(function (variationId) {\n            callback(variationId);\n        });\n    };\n    ConfigCatClient.prototype.getVariationIdAsync = function (key, defaultVariationId, user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        result = this.evaluator.Evaluate(config, key, null, user, defaultVariationId).VariationId;\n                        resolve(result);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getAllVariationIds = function (callback, user) {\n        this.getAllVariationIdsAsync(user).then(function (variationIds) {\n            callback(variationIds);\n        });\n    };\n    ConfigCatClient.prototype.getAllVariationIdsAsync = function (user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var keys, promises, variationIds;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getAllKeysAsync()];\n                    case 1:\n                        keys = _a.sent();\n                        if (keys.length === 0) {\n                            resolve([]);\n                            return [2 /*return*/];\n                        }\n                        promises = keys.map(function (key) { return _this.getVariationIdAsync(key, null, user); });\n                        return [4 /*yield*/, Promise.all(promises)];\n                    case 2:\n                        variationIds = _a.sent();\n                        resolve(variationIds);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getKeyAndValue = function (variationId, callback) {\n        this.getKeyAndValueAsync(variationId).then(function (settingKeyAndValue) {\n            callback(settingKeyAndValue);\n        });\n    };\n    ConfigCatClient.prototype.getKeyAndValueAsync = function (variationId) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, featureFlags, settingKey, rolloutRules, i, rolloutRule, percentageItems, i, percentageItem;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        if (!config || !config.ConfigJSON || !config.ConfigJSON[ConfigFile.FeatureFlags]) {\n                            this.options.logger.error(\"config.json is not present, returning empty array\");\n                            resolve(null);\n                            return [2 /*return*/];\n                        }\n                        featureFlags = config.ConfigJSON[ConfigFile.FeatureFlags];\n                        for (settingKey in featureFlags) {\n                            if (variationId === featureFlags[settingKey][Setting.VariationId]) {\n                                resolve({ settingKey: settingKey, settingValue: featureFlags[settingKey][Setting.Value] });\n                                return [2 /*return*/];\n                            }\n                            rolloutRules = featureFlags[settingKey][Setting.RolloutRules];\n                            if (rolloutRules && rolloutRules.length > 0) {\n                                for (i = 0; i < rolloutRules.length; i++) {\n                                    rolloutRule = rolloutRules[i];\n                                    if (variationId === rolloutRule[RolloutRules.VariationId]) {\n                                        resolve({ settingKey: settingKey, settingValue: rolloutRule[RolloutRules.Value] });\n                                        return [2 /*return*/];\n                                    }\n                                }\n                            }\n                            percentageItems = featureFlags[settingKey][Setting.RolloutPercentageItems];\n                            if (percentageItems && percentageItems.length > 0) {\n                                for (i = 0; i < percentageItems.length; i++) {\n                                    percentageItem = percentageItems[i];\n                                    if (variationId === percentageItem[RolloutPercentageItems.VariationId]) {\n                                        resolve({ settingKey: settingKey, settingValue: percentageItem[RolloutPercentageItems.Value] });\n                                        return [2 /*return*/];\n                                    }\n                                }\n                            }\n                        }\n                        this.options.logger.error(\"Could not find the setting for the given variation ID: \" + variationId);\n                        resolve(null);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    ConfigCatClient.prototype.getAllValues = function (callback, user) {\n        this.getAllValuesAsync(user).then(function (value) {\n            callback(value);\n        });\n    };\n    ConfigCatClient.prototype.getAllValuesAsync = function (user) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var config, keys, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.configService.getConfig()];\n                    case 1:\n                        config = _a.sent();\n                        if (!config || !config.ConfigJSON || !config.ConfigJSON[ConfigFile.FeatureFlags]) {\n                            this.options.logger.error(\"config.json is not present, returning empty array\");\n                            resolve([]);\n                            return [2 /*return*/];\n                        }\n                        keys = Object.keys(config.ConfigJSON[ConfigFile.FeatureFlags]);\n                        result = [];\n                        keys.forEach(function (key) {\n                            result.push({\n                                settingKey: key,\n                                settingValue: _this.evaluator.Evaluate(config, key, undefined, user).Value\n                            });\n                        });\n                        resolve(result);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    return ConfigCatClient;\n}());\nexport { ConfigCatClient };\nvar SettingKeyValue = /** @class */ (function () {\n    function SettingKeyValue() {\n    }\n    return SettingKeyValue;\n}());\nexport { SettingKeyValue };\n","import { ConfigCatClient } from \"./ConfigCatClient\";\nimport { AutoPollOptions, ManualPollOptions, LazyLoadOptions } from \"./ConfigCatClientOptions\";\nimport { ConfigCatConsoleLogger } from \"./ConfigCatLogger\";\n/**\n * Create an instance of ConfigCatClient and setup AutoPoll mode\n * @param {string} apiKey - ApiKey to access your configuration.\n * @param config - Configuration for autoPoll mode\n */\nexport function createClientWithAutoPoll(apiKey, configCatKernel, options) {\n    return new ConfigCatClient(new AutoPollOptions(apiKey, options, configCatKernel.cache), configCatKernel);\n}\n/**\n * Create an instance of ConfigCatClient and setup ManualPoll mode\n * @param {string} apiKey - ApiKey to access your configuration.\n * @param config - Configuration for manualPoll mode\n */\nexport function createClientWithManualPoll(apiKey, configCatKernel, options) {\n    return new ConfigCatClient(new ManualPollOptions(apiKey, options, configCatKernel.cache), configCatKernel);\n}\n/**\n * Create an instance of ConfigCatClient and setup LazyLoad mode\n * @param {string} apiKey - ApiKey to access your configuration.\n * @param config - Configuration for lazyLoad mode\n */\nexport function createClientWithLazyLoad(apiKey, configCatKernel, options) {\n    return new ConfigCatClient(new LazyLoadOptions(apiKey, options, configCatKernel.cache), configCatKernel);\n}\n/**\n * Create an instance of ConfigCatConsoleLogger\n * @param {LogLevel} logLevel - Specifies message's filtering to output for the CofigCatConsoleLogger.\n */\nexport function createConsoleLogger(logLevel) {\n    return new ConfigCatConsoleLogger(logLevel);\n}\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Info\"] = 3] = \"Info\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 1] = \"Error\";\n    LogLevel[LogLevel[\"Off\"] = -1] = \"Off\";\n})(LogLevel || (LogLevel = {}));\nexport { ProjectConfig } from \"./ProjectConfig\";\nexport { OptionsBase, DataGovernance } from \"./ConfigCatClientOptions\";\nexport { User } from \"./RolloutEvaluator\";\n","var numeric = /^[0-9]+$/;\nvar compareIdentifiers = function (a, b) {\n    var anum = numeric.test(a);\n    var bnum = numeric.test(b);\n    if (anum && bnum) {\n        a = +a;\n        b = +b;\n    }\n    return a === b ? 0\n        : (anum && !bnum) ? -1\n            : (bnum && !anum) ? 1\n                : a < b ? -1\n                    : 1;\n};\nvar rcompareIdentifiers = function (a, b) { return compareIdentifiers(b, a); };\nvar SEMVER_SPEC_VERSION = '2.0.0';\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n    /* istanbul ignore next */ 9007199254740991;\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\n// The actual regexps go on exports.re\nvar re = [];\nvar src = [];\nvar t = {};\nvar R = 0;\nvar createToken = function (name, value) {\n    var index = R++;\n    t[name] = index;\n    src[index] = value;\n    re[index] = new RegExp(value, undefined);\n};\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*');\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+');\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*');\ncreateToken('MAINVERSION', \"(\" + src[t['NUMERICIDENTIFIER']] + \")\\\\.\" +\n    (\"(\" + src[t['NUMERICIDENTIFIER']] + \")\\\\.\") +\n    (\"(\" + src[t['NUMERICIDENTIFIER']] + \")\"));\ncreateToken('MAINVERSIONLOOSE', \"(\" + src[t['NUMERICIDENTIFIERLOOSE']] + \")\\\\.\" +\n    (\"(\" + src[t['NUMERICIDENTIFIERLOOSE']] + \")\\\\.\") +\n    (\"(\" + src[t['NUMERICIDENTIFIERLOOSE']] + \")\"));\ncreateToken('PRERELEASEIDENTIFIER', \"(?:\" + src[t['NUMERICIDENTIFIER']] + \"|\" + src[t['NONNUMERICIDENTIFIER']] + \")\");\ncreateToken('PRERELEASEIDENTIFIERLOOSE', \"(?:\" + src[t['NUMERICIDENTIFIERLOOSE']] + \"|\" + src[t['NONNUMERICIDENTIFIER']] + \")\");\ncreateToken('PRERELEASE', \"(?:-(\" + src[t['PRERELEASEIDENTIFIER']] + \"(?:\\\\.\" + src[t['PRERELEASEIDENTIFIER']] + \")*))\");\ncreateToken('PRERELEASELOOSE', \"(?:-?(\" + src[t['PRERELEASEIDENTIFIERLOOSE']] + \"(?:\\\\.\" + src[t['PRERELEASEIDENTIFIERLOOSE']] + \")*))\");\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+');\ncreateToken('BUILD', \"(?:\\\\+(\" + src[t['BUILDIDENTIFIER']] + \"(?:\\\\.\" + src[t['BUILDIDENTIFIER']] + \")*))\");\ncreateToken('FULLPLAIN', \"v?\" + src[t['MAINVERSION']] + src[t['PRERELEASE']] + \"?\" + src[t['BUILD']] + \"?\");\ncreateToken('FULL', \"^\" + src[t['FULLPLAIN']] + \"$\");\ncreateToken('LOOSEPLAIN', \"[v=\\\\s]*\" + src[t['MAINVERSIONLOOSE']] + src[t['PRERELEASELOOSE']] + \"?\" + src[t['BUILD']] + \"?\");\ncreateToken('LOOSE', \"^\" + src[t['LOOSEPLAIN']] + \"$\");\nvar SemVer = /** @class */ (function () {\n    function SemVer(version, options) {\n        if (!options || typeof options !== 'object') {\n            options = {\n                loose: !!options,\n                includePrerelease: false\n            };\n        }\n        if (version instanceof SemVer) {\n            if (version.loose === !!options.loose &&\n                version.includePrerelease === !!options.includePrerelease) {\n                return version;\n            }\n            else {\n                version = version.version;\n            }\n        }\n        else if (typeof version !== 'string') {\n            throw new TypeError(\"Invalid Version: \" + version);\n        }\n        if (version.length > MAX_LENGTH) {\n            throw new TypeError(\"version is longer than \" + MAX_LENGTH + \" characters\");\n        }\n        this.options = options;\n        this.loose = !!options.loose;\n        // this isn't actually relevant for versions, but keep it so that we\n        // don't run into trouble passing this.options around.\n        this.includePrerelease = !!options.includePrerelease;\n        var m = version.trim().match(options.loose ? re[t['LOOSE']] : re[t['FULL']]);\n        if (!m) {\n            throw new TypeError(\"Invalid Version: \" + version);\n        }\n        this.raw = version;\n        // these are actually numbers\n        this.major = +m[1];\n        this.minor = +m[2];\n        this.patch = +m[3];\n        if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n            throw new TypeError('Invalid major version');\n        }\n        if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n            throw new TypeError('Invalid minor version');\n        }\n        if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n            throw new TypeError('Invalid patch version');\n        }\n        // numberify any prerelease numeric ids\n        if (!m[4]) {\n            this.prerelease = [];\n        }\n        else {\n            this.prerelease = m[4].split('.').map(function (id) {\n                if (/^[0-9]+$/.test(id)) {\n                    var num = +id;\n                    if (num >= 0 && num < MAX_SAFE_INTEGER) {\n                        return num;\n                    }\n                }\n                return id;\n            });\n        }\n        this.build = m[5] ? m[5].split('.') : [];\n        this.format();\n    }\n    SemVer.prototype.format = function () {\n        this.version = this.major + \".\" + this.minor + \".\" + this.patch;\n        if (this.prerelease.length) {\n            this.version += \"-\" + this.prerelease.join('.');\n        }\n        return this.version;\n    };\n    SemVer.prototype.toString = function () {\n        return this.version;\n    };\n    SemVer.prototype.compare = function (other) {\n        if (!(other instanceof SemVer)) {\n            if (typeof other === 'string' && other === this.version) {\n                return 0;\n            }\n            other = new SemVer(other, this.options);\n        }\n        if (other.version === this.version) {\n            return 0;\n        }\n        return this.compareMain(other) || this.comparePre(other);\n    };\n    SemVer.prototype.compareMain = function (other) {\n        if (!(other instanceof SemVer)) {\n            other = new SemVer(other, this.options);\n        }\n        return (compareIdentifiers(this.major, other.major) ||\n            compareIdentifiers(this.minor, other.minor) ||\n            compareIdentifiers(this.patch, other.patch));\n    };\n    SemVer.prototype.comparePre = function (other) {\n        if (!(other instanceof SemVer)) {\n            other = new SemVer(other, this.options);\n        }\n        // NOT having a prerelease is > having one\n        if (this.prerelease.length && !other.prerelease.length) {\n            return -1;\n        }\n        else if (!this.prerelease.length && other.prerelease.length) {\n            return 1;\n        }\n        else if (!this.prerelease.length && !other.prerelease.length) {\n            return 0;\n        }\n        var i = 0;\n        do {\n            var a = this.prerelease[i];\n            var b = other.prerelease[i];\n            if (a === undefined && b === undefined) {\n                return 0;\n            }\n            else if (b === undefined) {\n                return 1;\n            }\n            else if (a === undefined) {\n                return -1;\n            }\n            else if (a === b) {\n                continue;\n            }\n            else {\n                return compareIdentifiers(a, b);\n            }\n        } while (++i);\n    };\n    SemVer.prototype.compareBuild = function (other) {\n        if (!(other instanceof SemVer)) {\n            other = new SemVer(other, this.options);\n        }\n        var i = 0;\n        do {\n            var a = this.build[i];\n            var b = other.build[i];\n            if (a === undefined && b === undefined) {\n                return 0;\n            }\n            else if (b === undefined) {\n                return 1;\n            }\n            else if (a === undefined) {\n                return -1;\n            }\n            else if (a === b) {\n                continue;\n            }\n            else {\n                return compareIdentifiers(a, b);\n            }\n        } while (++i);\n    };\n    // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n    SemVer.prototype.inc = function (release, identifier) {\n        switch (release) {\n            case 'premajor':\n                this.prerelease.length = 0;\n                this.patch = 0;\n                this.minor = 0;\n                this.major++;\n                this.inc('pre', identifier);\n                break;\n            case 'preminor':\n                this.prerelease.length = 0;\n                this.patch = 0;\n                this.minor++;\n                this.inc('pre', identifier);\n                break;\n            case 'prepatch':\n                // If this is already a prerelease, it will bump to the next version\n                // drop any prereleases that might already exist, since they are not\n                // relevant at this point.\n                this.prerelease.length = 0;\n                this.inc('patch', identifier);\n                this.inc('pre', identifier);\n                break;\n            // If the input is a non-prerelease version, this acts the same as\n            // prepatch.\n            case 'prerelease':\n                if (this.prerelease.length === 0) {\n                    this.inc('patch', identifier);\n                }\n                this.inc('pre', identifier);\n                break;\n            case 'major':\n                // If this is a pre-major version, bump up to the same major version.\n                // Otherwise increment major.\n                // 1.0.0-5 bumps to 1.0.0\n                // 1.1.0 bumps to 2.0.0\n                if (this.minor !== 0 ||\n                    this.patch !== 0 ||\n                    this.prerelease.length === 0) {\n                    this.major++;\n                }\n                this.minor = 0;\n                this.patch = 0;\n                this.prerelease = [];\n                break;\n            case 'minor':\n                // If this is a pre-minor version, bump up to the same minor version.\n                // Otherwise increment minor.\n                // 1.2.0-5 bumps to 1.2.0\n                // 1.2.1 bumps to 1.3.0\n                if (this.patch !== 0 || this.prerelease.length === 0) {\n                    this.minor++;\n                }\n                this.patch = 0;\n                this.prerelease = [];\n                break;\n            case 'patch':\n                // If this is not a pre-release version, it will increment the patch.\n                // If it is a pre-release it will bump up to the same patch version.\n                // 1.2.0-5 patches to 1.2.0\n                // 1.2.0 patches to 1.2.1\n                if (this.prerelease.length === 0) {\n                    this.patch++;\n                }\n                this.prerelease = [];\n                break;\n            // This probably shouldn't be used publicly.\n            // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n            case 'pre':\n                if (this.prerelease.length === 0) {\n                    this.prerelease = [0];\n                }\n                else {\n                    var i = this.prerelease.length;\n                    while (--i >= 0) {\n                        if (typeof this.prerelease[i] === 'number') {\n                            this.prerelease[i]++;\n                            i = -2;\n                        }\n                    }\n                    if (i === -1) {\n                        // didn't increment anything\n                        this.prerelease.push(0);\n                    }\n                }\n                if (identifier) {\n                    // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n                    // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n                    if (this.prerelease[0] === identifier) {\n                        if (isNaN(this.prerelease[1])) {\n                            this.prerelease = [identifier, 0];\n                        }\n                    }\n                    else {\n                        this.prerelease = [identifier, 0];\n                    }\n                }\n                break;\n            default:\n                throw new Error(\"invalid increment argument: \" + release);\n        }\n        this.format();\n        this.raw = this.version;\n        return this;\n    };\n    return SemVer;\n}());\nvar parse = function (version, options) {\n    if (!options || typeof options !== 'object') {\n        options = {\n            loose: !!options,\n            includePrerelease: false\n        };\n    }\n    if (version instanceof SemVer) {\n        return version;\n    }\n    if (typeof version !== 'string') {\n        return null;\n    }\n    if (version.length > MAX_LENGTH) {\n        return null;\n    }\n    var r = options.loose ? re[t['LOOSE']] : re[t['FULL']];\n    if (!r.test(version)) {\n        return null;\n    }\n    try {\n        return new SemVer(version, options);\n    }\n    catch (er) {\n        return null;\n    }\n};\nvar compare = function (a, b, loose) {\n    return new SemVer(a, loose).compare(new SemVer(b, loose));\n};\nexport var valid = function (version) {\n    var v = parse(version, false);\n    return v ? v.version : null;\n};\nexport var looseeq = function (a, b) { return compare(a, b, true) === 0; };\nexport var eq = function (a, b) { return compare(a, b, false) === 0; };\nexport var lt = function (a, b) { return compare(a, b, false) < 0; };\nexport var lte = function (a, b) { return compare(a, b, false) <= 0; };\nexport var gt = function (a, b) { return compare(a, b, false) > 0; };\nexport var gte = function (a, b) { return compare(a, b, false) >= 0; };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { ConfigServiceBase } from \"./ConfigServiceBase\";\nimport { ProjectConfig } from \"./ProjectConfig\";\nvar AutoPollConfigService = /** @class */ (function (_super) {\n    __extends(AutoPollConfigService, _super);\n    function AutoPollConfigService(configFetcher, autoPollConfig) {\n        var _this = _super.call(this, configFetcher, autoPollConfig) || this;\n        _this.configChanged = autoPollConfig.configChanged;\n        _this.startRefreshWorker(autoPollConfig.pollIntervalSeconds * 1000);\n        _this.maxInitWaitTimeStamp = new Date().getTime() + (autoPollConfig.maxInitWaitTimeSeconds * 1000);\n        return _this;\n    }\n    AutoPollConfigService.prototype.getConfig = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var p;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.tryReadFromCache(0)];\n                    case 1:\n                        p = _a.sent();\n                        if (!p) {\n                            return [2 /*return*/, this.refreshLogic(true)];\n                        }\n                        else {\n                            return [2 /*return*/, new Promise(function (resolve) { return resolve(p); })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AutoPollConfigService.prototype.refreshConfigAsync = function () {\n        return this.refreshLogic(true);\n    };\n    AutoPollConfigService.prototype.dispose = function () {\n        clearTimeout(this.timerId);\n    };\n    AutoPollConfigService.prototype.refreshLogic = function (forceUpdateCache) {\n        var _this = this;\n        return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {\n            var cachedConfig, newConfig;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        cachedConfig = this.baseConfig.cache.get(this.baseConfig.getCacheKey());\n                        return [4 /*yield*/, this.refreshLogicBaseAsync(cachedConfig, forceUpdateCache)];\n                    case 1:\n                        newConfig = _a.sent();\n                        if (!cachedConfig || !ProjectConfig.equals(cachedConfig, newConfig)) {\n                            this.configChanged();\n                        }\n                        resolve(newConfig);\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n    };\n    AutoPollConfigService.prototype.startRefreshWorker = function (delay) {\n        var _this = this;\n        this.refreshLogic(false).then(function (_) {\n            _this.timerId = setTimeout(function () {\n                _this.startRefreshWorker(delay);\n            }, delay);\n        });\n    };\n    AutoPollConfigService.prototype.tryReadFromCache = function (tries) {\n        return __awaiter(this, void 0, void 0, function () {\n            var p, diff, delay;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        p = this.baseConfig.cache.get(this.baseConfig.getCacheKey());\n                        if (!(this.maxInitWaitTimeStamp > new Date().getTime() && !p)) return [3 /*break*/, 2];\n                        diff = this.maxInitWaitTimeStamp - new Date().getTime();\n                        delay = 30 + (tries * tries * 20);\n                        return [4 /*yield*/, this.sleep(Math.min(diff, delay))];\n                    case 1:\n                        _a.sent();\n                        tries++;\n                        return [2 /*return*/, this.tryReadFromCache(tries)];\n                    case 2: return [2 /*return*/, new Promise(function (resolve) { return resolve(p); })];\n                }\n            });\n        });\n    };\n    AutoPollConfigService.prototype.sleep = function (ms) {\n        return new Promise(function (resolve) { return setTimeout(resolve, ms); });\n    };\n    return AutoPollConfigService;\n}(ConfigServiceBase));\nexport { AutoPollConfigService };\n"]}